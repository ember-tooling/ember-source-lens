{"version":3,"file":"SourceLens.js","sources":["../../src/lib/editor-url.ts","../../src/lib/file-system-bridge.ts","../../src/lib/modifier.ts","../../src/lib/shared-state.ts","../../src/components/editor.gts","../../src/components/icons.gts","../../node_modules/.pnpm/style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js","../../src/components/SourceLens.gts"],"sourcesContent":["export type EditorType =\n  | 'vscode'\n  | 'code'\n  | 'webstorm'\n  | 'intellij'\n  | 'atom'\n  | 'sublime'\n  | 'sublimetext'\n  | 'cursor'\n  | 'windsurf';\n\n/**\n * Generates an editor-specific URL to open a file at a specific location.\n *\n * @param editor - The editor type\n * @param absolutePath - The absolute file path\n * @param lineNumber - The line number to navigate to\n * @param column - The column number to navigate to\n * @param projectRoot - Optional project root for certain editors\n * @returns The editor-specific URL\n */\nexport function getEditorUrl(\n  editor: EditorType,\n  absolutePath: string,\n  lineNumber: number,\n  column: number,\n  projectRoot?: string,\n): string {\n  switch (editor.toLowerCase()) {\n    case 'vscode':\n    case 'code':\n      return `vscode://file${absolutePath}:${lineNumber}:${column}`;\n\n    case 'webstorm':\n    case 'intellij':\n      return `jetbrains://idea/navigate/reference?project=${projectRoot || 'project'}&path=${absolutePath}&line=${lineNumber}&column=${column}`;\n\n    case 'atom':\n      return `atom://core/open/file?file=${encodeURIComponent(absolutePath)}&line=${lineNumber}&column=${column}`;\n\n    case 'sublime':\n    case 'sublimetext':\n      return `subl://open?url=file://${encodeURIComponent(absolutePath)}&line=${lineNumber}&column=${column}`;\n\n    case 'cursor':\n      return `cursor://file${absolutePath}:${lineNumber}:${column}`;\n\n    case 'windsurf':\n      return `windsurf://file${absolutePath}:${lineNumber}:${column}`;\n\n    default:\n      console.warn(\n        `[Ember Source Lens] Unknown editor \"${editor}\", falling back to VS Code`,\n      );\n      return `vscode://file${absolutePath}:${lineNumber}:${column}`;\n  }\n}\n","import { tracked } from '@glimmer/tracking';\nimport type { SourceLensState } from './shared-state';\n\nexport class FileSystemBridge {\n  @tracked isConnected = false;\n\n  constructor(private sourceLensState: SourceLensState) {\n    this.setup();\n  }\n\n  private setup() {\n    if (!import.meta.hot) return;\n\n    import.meta.hot.send('source-lens:check-connection');\n\n    import.meta.hot.on('source-lens:connected', () => {\n      this.isConnected = true;\n      if (this.sourceLensState.selectedFile) {\n        this.openFile(this.sourceLensState.absolutePath);\n      }\n    });\n\n    import.meta.hot.on(\n      'source-lens:file-response',\n      (data: { file: string }) => {\n        this.sourceLensState.currentFileContent = data.file;\n      },\n    );\n  }\n\n  openFile(absolutePath: string) {\n    if (!import.meta.hot) return;\n    import.meta.hot.send('source-lens:open-file', { absolutePath });\n  }\n\n  saveFile(content: string) {\n    if (!import.meta.hot) return;\n    import.meta.hot.send('source-lens:save-file', { content });\n  }\n}\n","import { modifier } from 'ember-modifier';\nimport type { SourceLensState } from './shared-state.ts';\nimport type { FileSystemBridge } from './file-system-bridge.ts';\n\nexport type HTMLElementWithSource = HTMLElement & {\n  sourceFile: string;\n  sourceLine: string;\n  sourceColumn: string;\n};\n\nexport function isElementWithSource(\n  element: Element,\n): element is HTMLElementWithSource {\n  return 'sourceFile' in element && 'sourceLine' in element;\n}\n\nexport function findSourceElement(\n  x: number,\n  y: number,\n  excludeSelector: string,\n): HTMLElementWithSource | null {\n  const el = document.elementFromPoint(x, y);\n\n  if (!el || el.closest(excludeSelector) || !isElementWithSource(el)) {\n    return null;\n  }\n\n  return el;\n}\n\nexport function clearSourceLensDataAttributes(): void {\n  const elsWithLens =\n    document.querySelectorAll<HTMLElementWithSource>('[data-source-file]');\n\n  elsWithLens.forEach((el) => {\n    el.sourceFile = el.getAttribute('data-source-file') || '';\n    el.sourceLine = el.getAttribute('data-source-line') || '';\n    el.sourceColumn = el.getAttribute('data-source-column') || '';\n    el.removeAttribute('data-source-line');\n    el.removeAttribute('data-source-file');\n    el.removeAttribute('data-source-column');\n  });\n}\n\nconst HTML_CLASS = '_esl_active_';\n\nexport const sourceLensModifier = modifier(\n  (\n    _element: HTMLElement,\n    _positional: [],\n    named: {\n      sourceLensState: SourceLensState;\n      fileSystemBridge: FileSystemBridge;\n      sourceLensClass: string;\n    },\n  ) => {\n    const { sourceLensState, fileSystemBridge, sourceLensClass } = named;\n\n    if (!sourceLensState) {\n      return;\n    }\n\n    const existingPadding = getComputedStyle(\n      document.documentElement,\n    ).getPropertyValue('padding-bottom');\n    document.documentElement.style.setProperty(\n      '--esl-existing-padding',\n      existingPadding,\n    );\n\n    document.documentElement.classList.add(HTML_CLASS);\n\n    const abortController = new AbortController();\n    const { signal } = abortController;\n\n    clearSourceLensDataAttributes();\n    const observer = new MutationObserver(() => {\n      clearSourceLensDataAttributes();\n    });\n\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n    });\n\n    const moveHandler = (e: MouseEvent) => {\n      if (!sourceLensState.isEnabled) return;\n      if (!sourceLensState.overlayEnabled) return;\n\n      const el = findSourceElement(e.clientX, e.clientY, `.${sourceLensClass}`);\n\n      if (!el) {\n        sourceLensState.element = null;\n        sourceLensState.filePath = null;\n        sourceLensState.lineNumber = null;\n        sourceLensState.columnNumber = null;\n        sourceLensState.boundingClientRect = null;\n        return;\n      }\n\n      if (el === sourceLensState.element) return;\n\n      sourceLensState.element = el;\n      sourceLensState.filePath = el.sourceFile;\n      sourceLensState.lineNumber = Number(el.sourceLine);\n      sourceLensState.columnNumber = Number(el.sourceColumn) || 1;\n      sourceLensState.scrollDistance = 0;\n      sourceLensState.boundingClientRect = el.getBoundingClientRect();\n    };\n\n    const clickElementHandler = (e: MouseEvent) => {\n      absorbClicks(e);\n      if (!sourceLensState.isEnabled) return;\n      if (!sourceLensState.overlayEnabled) return;\n      if (!sourceLensState.element) return;\n\n      sourceLensState.selectElement();\n\n      if (fileSystemBridge.isConnected) {\n        fileSystemBridge.openFile(sourceLensState.absolutePath);\n      } else {\n        console.warn(\n          '[ember-source-lens] Cannot open file, file system bridge is not connected',\n        );\n      }\n    };\n\n    let lastKnownScrollPosition = 0;\n    const scrollHandler = () => {\n      const scrollElement = document.documentElement;\n      const scrollDistance = scrollElement.scrollTop - lastKnownScrollPosition;\n      lastKnownScrollPosition = scrollElement.scrollTop;\n\n      // apply transform to overlay\n      if (sourceLensState.boundingClientRect) {\n        sourceLensState.scrollDistance -= scrollDistance;\n      }\n    };\n\n    const absorbClicks = (e: MouseEvent) => {\n      if (!sourceLensState.element) return;\n      if (!sourceLensState.isEnabled) return;\n      if (!sourceLensState.overlayEnabled) return;\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n    };\n\n    const keyHandler = (e: KeyboardEvent) => {\n      // Check for Cmd+Shift+L (Mac) or Ctrl+Shift+L (Windows/Linux)\n      if (\n        (e.metaKey || e.ctrlKey) &&\n        e.shiftKey &&\n        e.key.toLowerCase() === 'l'\n      ) {\n        e.preventDefault();\n        sourceLensState.toggleEnabled();\n        sourceLensState.resetState();\n      }\n    };\n\n    document.addEventListener('keydown', keyHandler, { signal });\n    document.addEventListener('scroll', scrollHandler, { signal });\n    document.addEventListener('mousemove', moveHandler, { signal });\n    document.addEventListener('click', clickElementHandler, {\n      capture: true,\n      signal,\n    });\n    document.addEventListener('mousedown', absorbClicks, {\n      capture: true,\n      signal,\n    });\n\n    return () => {\n      abortController.abort();\n      observer.disconnect();\n      document.documentElement.classList.remove(HTML_CLASS);\n    };\n  },\n);\n","import localStorage from 'ember-local-storage-decorator';\nimport { tracked } from '@glimmer/tracking';\nimport type { HTMLElementWithSource } from './modifier.ts';\n\nexport class SourceLensState {\n  // Persistent state (survives page reloads)\n  @localStorage('source-lens:projectRoot') projectRoot: string = '';\n  @localStorage('source-lens:enabled') isEnabled: boolean = false;\n  @localStorage('source-lens:selectedFile') selectedFile: string | null = null;\n  @localStorage('source-lens:selectedLineNumber') selectedLineNumber:\n    | number\n    | null = null;\n  @localStorage('source-lens:selectedColumn') selectedColumn: number | null =\n    null;\n  @localStorage('source-lens:editorEnabled') editorEnabled: boolean = false;\n\n  // Transient state (resets on page reload)\n  @tracked filePath: string | null = null;\n  @tracked lineNumber: number | null = null;\n  @tracked columnNumber: number | null = null;\n  @tracked currentFileContent: string = '';\n  @tracked overlayEnabled: boolean = false;\n  @tracked element: HTMLElementWithSource | null = null;\n  @tracked boundingClientRect: DOMRect | null = null;\n  @tracked scrollDistance: number = 0;\n  @tracked shouldFocusEditor: boolean = false;\n\n  constructor(projectRoot?: string) {\n    this.projectRoot = projectRoot ?? '/';\n  }\n\n  get absolutePath() {\n    const path = `${this.projectRoot}/${this.selectedFile}`;\n    return path.replace(/\\/+/g, '/');\n  }\n\n  toggleOverlay = () => {\n    this.overlayEnabled = !this.overlayEnabled;\n  };\n\n  toggleEnabled = () => {\n    this.isEnabled = !this.isEnabled;\n\n    // Clear state when disabling\n    if (!this.isEnabled) {\n      this.element = null;\n      this.boundingClientRect = null;\n      this.scrollDistance = 0;\n    }\n  };\n\n  toggleEditor = () => {\n    this.editorEnabled = !this.editorEnabled;\n    this.shouldFocusEditor = this.editorEnabled;\n  };\n\n  selectElement = () => {\n    if (this.selectedFile !== this.filePath) this.selectedFile = this.filePath;\n    this.selectedLineNumber = this.lineNumber;\n    this.selectedColumn = this.columnNumber;\n    this.overlayEnabled = false;\n    this.boundingClientRect = null;\n  };\n\n  resetState = () => {\n    this.element = null;\n    this.filePath = null;\n    this.lineNumber = null;\n    this.columnNumber = null;\n    this.boundingClientRect = null;\n    this.selectedFile = null;\n    this.selectedLineNumber = null;\n    this.selectedColumn = null;\n    this.currentFileContent = '';\n    this.editorEnabled = false;\n    this.overlayEnabled = false;\n    this.scrollDistance = 0;\n  };\n}\n","import type { init } from 'modern-monaco';\nimport Modifier from 'ember-modifier';\nimport type { editor } from 'modern-monaco/editor-core';\nimport type { TOC } from '@ember/component/template-only';\nimport { assert } from '@ember/debug';\nimport type { SourceLensState } from '../lib/shared-state.ts';\n\ninterface MonacoEditorModifierSignature {\n  Element: HTMLElement;\n  Args: {\n    Positional: [\n      string | null,\n      string | null,\n      number | null,\n      number | null,\n      () => void,\n      boolean,\n      (value: string) => void,\n    ];\n  };\n}\n\nconst languageMap: Record<string, string> = {\n  js: 'javascript',\n  ts: 'typescript',\n  gts: 'glimmer-ts',\n  gjs: 'glimmer-js',\n  css: 'css',\n  html: 'html',\n  hbs: 'handlebars',\n  txt: 'plaintext',\n};\n\nclass MonacoEditor extends Modifier<MonacoEditorModifierSignature> {\n  setupCalled = false;\n  currentContent = '';\n  declare editor: editor.IStandaloneCodeEditor;\n  declare monaco: Awaited<ReturnType<typeof init>>;\n  saveAction: (value: string) => void = () => {};\n  disableAction: () => void = () => {};\n\n  async setup(element: HTMLElement) {\n    const init = await import('modern-monaco').then((mod) => mod.init);\n    this.monaco = await init({\n      theme: 'dark-plus',\n    });\n\n    this.editor = this.monaco.editor.create(element, {\n      padding: {\n        top: 10,\n      },\n    });\n\n    this.monaco.editor.addEditorAction({\n      id: 'save-action',\n      label: 'Save File',\n      keybindings: [this.monaco.KeyMod.CtrlCmd | this.monaco.KeyCode.KeyS],\n      run: (ed) => {\n        this.saveAction(ed.getValue());\n      },\n    });\n\n    this.monaco.editor.addEditorAction({\n      id: 'disable',\n      label: 'Disable Ember Source Lens',\n      keybindings: [\n        this.monaco.KeyMod.CtrlCmd |\n          this.monaco.KeyMod.Shift |\n          this.monaco.KeyCode.KeyL,\n      ],\n      run: () => {\n        this.disableAction();\n      },\n    });\n  }\n\n  setContent(\n    content: string,\n    filename: string,\n    lineNumber: number,\n    columnNumber: number,\n    focus: boolean,\n  ) {\n    const extension = filename.split('.').pop() || 'txt';\n    const language = languageMap[extension] || 'plaintext';\n\n    const currentModel = this.editor.getModel();\n    assert('Monaco Editor model is not initialized', currentModel !== null);\n    this.monaco.editor.setModelLanguage(currentModel, language);\n    currentModel.setValue(content);\n    this.editor.setPosition({ lineNumber, column: columnNumber });\n    this.editor.revealLine(lineNumber + 10);\n    if (focus) {\n      this.editor.focus();\n    }\n  }\n\n  modify(\n    element: HTMLElement,\n    [\n      content,\n      filename,\n      lineNumber,\n      columnNumber,\n      disableAction,\n      shouldFocusEditor,\n      saveAction,\n    ]: MonacoEditorModifierSignature['Args']['Positional'],\n  ) {\n    this.currentContent = content || '';\n    this.saveAction = saveAction;\n    this.disableAction = disableAction;\n\n    if (this.editor) {\n      if (this.currentContent && filename && lineNumber && columnNumber) {\n        this.setContent(\n          this.currentContent,\n          filename,\n          lineNumber,\n          columnNumber,\n          true,\n        );\n      }\n      return;\n    }\n\n    if (this.setupCalled) {\n      return;\n    }\n\n    this.setupCalled = true;\n\n    this.setup(element)\n      .then(() => {\n        if (this.currentContent && filename && lineNumber && columnNumber) {\n          this.setContent(\n            this.currentContent,\n            filename,\n            lineNumber,\n            columnNumber,\n            shouldFocusEditor,\n          );\n        }\n      })\n      .catch((error) => {\n        console.error('Error initializing Monaco Editor:', error);\n      });\n  }\n}\n\ninterface EditorSignature {\n  Element: HTMLDivElement;\n  Args: {\n    sourceLensState: SourceLensState;\n    saveAction: (value: string) => void;\n  };\n}\n\nexport const Editor: TOC<EditorSignature> = <template>\n  <div\n    ...attributes\n    {{MonacoEditor\n      @sourceLensState.currentFileContent\n      @sourceLensState.selectedFile\n      @sourceLensState.selectedLineNumber\n      @sourceLensState.selectedColumn\n      @sourceLensState.toggleEnabled\n      @sourceLensState.shouldFocusEditor\n      @saveAction\n    }}\n  ></div>\n</template>;\n","import type { TOC } from '@ember/component/template-only';\n\ninterface IconSignature {\n  Element: SVGSVGElement;\n}\n\nexport const EmberLogo: TOC<IconSignature> = <template>\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 128 128\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    ...attributes\n  >\n    <g fill=\"none\" fill-rule=\"evenodd\">\n      <path\n        d=\"M64 0c35.346 0 64 28.654 64 64 0 35.346-28.654 64-64 64-35.346 0-64-28.654-64-64C0 28.654 28.654 0 64 0z\"\n        fill=\"#E05C43\"\n        fill-rule=\"nonzero\"\n      />\n      <path\n        d=\"M65.265 24.128c8.246-.163 14.073 2.073 19.087 9.19 10.934 27.109-28.147 41.1-29.714 41.65l-.049.016s-1.18 7.363 10.028 7.08c13.793 0 28.294-10.691 33.81-15.21a3.293 3.293 0 0 1 4.468.265l4.13 4.29a3.291 3.291 0 0 1 .085 4.491c-3.59 3.997-12.014 12.203-24.696 17.504 0 0-21.16 9.798-35.42.52-8.503-5.53-10.842-12.151-11.793-19.038.005 0-10.324-.524-16.957-3.114-6.635-2.592.049-10.411.049-10.411s2.04-3.233 5.92 0c3.883 3.228 11.13 1.772 11.13 1.772.646-5.099 1.72-11.828 4.884-18.93 6.632-14.885 16.789-19.915 25.038-20.075zm4.853 14.915c-4.369-4.21-16.984 4.202-17.471 23.45 0 0 3.724 1.134 11.97-4.53 8.25-5.661 9.87-14.718 5.501-18.92z\"\n        fill=\"#FFFFFF\"\n      />\n    </g>\n  </svg>\n</template>;\n\nexport const InspectIcon: TOC<IconSignature> = <template>\n  <svg\n    width=\"17\"\n    height=\"16\"\n    viewBox=\"0 0 17 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M12.9013 5.30147L12.9072 2.18288C12.9072 2.01065 12.7728 1.87104 12.6071 1.87104H2.10607C1.94037 1.87104 1.80604 2.01066 1.80604 2.18288L1.80018 11.8499L1.80604 11.9127C1.83403 12.0547 1.95523 12.1618 2.10021 12.1618H5.10638C5.60349 12.1618 6.00647 12.5806 6.00647 13.0973C6.00637 13.6139 5.60342 14.0328 5.10638 14.0328H2.10021C0.976527 14.0328 0.0591503 13.1154 0.00292999 11.962L0 11.8499L0.00585997 2.18288C0.00585997 0.977309 0.946158 0 2.10607 0H12.6071C13.7671 0 14.7074 0.97731 14.7074 2.18288L14.7015 5.30147C14.7014 5.81806 14.2985 6.23699 13.8014 6.23699C13.3044 6.23696 12.9014 5.81803 12.9013 5.30147Z\"\n      fill=\"#000\"\n    />\n    <path\n      d=\"M13.9146 12.5063L13.3849 13.0569C13.1551 13.2957 12.7826 13.2957 12.5529 13.0569L10.8218 11.2577C10.7679 11.2017 10.6758 11.2282 10.6573 11.305L10.2563 12.9722C10.1157 13.5567 9.33229 13.5998 9.1331 13.034L6.82265 6.47015C6.65064 5.98148 7.10712 5.50704 7.57728 5.68582L13.8925 8.08721C14.437 8.29424 14.3955 9.10852 13.8331 9.25466L12.2291 9.67145C12.1551 9.69066 12.1296 9.78637 12.1835 9.84238L13.9146 11.6416C14.1443 11.8804 14.1443 12.2675 13.9146 12.5063Z\"\n      fill=\"#000\"\n    />\n  </svg>\n</template>;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { concat } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport { htmlSafe } from '@ember/template';\nimport Component from '@glimmer/component';\nimport { createStore } from 'ember-primitives/store';\nimport { getEditorUrl, type EditorType } from '../lib/editor-url.ts';\nimport { FileSystemBridge } from '../lib/file-system-bridge.ts';\nimport { sourceLensModifier } from '../lib/modifier.ts';\nimport { SourceLensState } from '../lib/shared-state.ts';\nimport { Editor } from './editor.gts';\nimport { EmberLogo, InspectIcon } from './icons.gts';\nimport {\n  active,\n  locationString,\n  panel,\n  panelAction,\n  panelGroup,\n  panelTitle,\n  sourceCode,\n  sourceLens,\n  sourceLensOverlay,\n} from './styles.module.css';\n\ninterface SourceLensSignature {\n  Element: HTMLDivElement;\n  Args: {\n    projectRoot?: string;\n    editor?: EditorType;\n  };\n}\n\nexport class SourceLens extends Component<SourceLensSignature> {\n  sourceLensState = createStore(\n    this,\n    () => new SourceLensState(this.args.projectRoot),\n  );\n\n  fileSystemBridge = createStore(\n    this,\n    () => new FileSystemBridge(this.sourceLensState),\n  );\n\n  get hasHoveredFile() {\n    return Boolean(\n      this.sourceLensState.filePath &&\n        this.sourceLensState.lineNumber &&\n        this.sourceLensState.columnNumber,\n    );\n  }\n\n  get hasSelectedFile() {\n    return Boolean(\n      this.sourceLensState.selectedFile &&\n        this.sourceLensState.selectedLineNumber &&\n        this.sourceLensState.selectedColumn,\n    );\n  }\n\n  fullFilePath(path: string, line: number, column: number) {\n    return `${path}:${line}:${column}`;\n  }\n\n  get locationString() {\n    if (this.hasHoveredFile) {\n      return this.fullFilePath(\n        this.sourceLensState.filePath!,\n        this.sourceLensState.lineNumber!,\n        this.sourceLensState.columnNumber!,\n      );\n    }\n\n    if (this.hasSelectedFile) {\n      return this.fullFilePath(\n        this.sourceLensState.selectedFile!,\n        this.sourceLensState.selectedLineNumber!,\n        this.sourceLensState.selectedColumn!,\n      );\n    }\n\n    return '';\n  }\n\n  get overlayRectStyleString() {\n    const rect = this.sourceLensState.boundingClientRect;\n    if (!rect) {\n      return '';\n    }\n    return `top: ${rect.top}px; left: ${rect.left}px; width: ${rect.width}px; height: ${rect.height}px; transform: translateY(${this.sourceLensState.scrollDistance}px);`;\n  }\n\n  saveAction = (newContent: string) => {\n    this.sourceLensState.currentFileContent = newContent;\n    this.fileSystemBridge.saveFile(newContent);\n  };\n\n  get editorUrl() {\n    return getEditorUrl(\n      this.args.editor || 'vscode',\n      this.sourceLensState.absolutePath,\n      this.sourceLensState.selectedLineNumber!,\n      this.sourceLensState.selectedColumn!,\n      this.sourceLensState.projectRoot,\n    );\n  }\n\n  openIDE = () => {\n    window.location.href = this.editorUrl;\n  };\n\n  <template>\n    <div\n      class={{sourceLens}}\n      ...attributes\n      {{sourceLensModifier\n        sourceLensState=this.sourceLensState\n        fileSystemBridge=this.fileSystemBridge\n        sourceLensClass=sourceLens\n      }}\n    >\n      {{#if this.sourceLensState.isEnabled}}\n        <div class={{panel}}>\n          <div class={{panelGroup}}>\n            <a\n              href=\"https://github.com/ember-tooling/ember-source-lens\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              class={{panelTitle}}\n            >\n              <EmberLogo />\n              Source Lens\n            </a>\n            <button\n              type=\"button\"\n              class={{concat\n                panelAction\n                \" \"\n                (if this.sourceLensState.overlayEnabled active)\n              }}\n              {{on \"click\" this.sourceLensState.toggleOverlay}}\n            >\n              <InspectIcon />\n            </button>\n          </div>\n          <div class={{locationString}}>\n            <span>\n              {{#if this.locationString}}\n                <a href={{this.editorUrl}}>{{this.locationString}}</a>\n              {{else}}\n                No component selected\n              {{/if}}\n            </span>\n          </div>\n          <div class={{panelGroup}}>\n            {{#if this.sourceLensState.selectedFile}}\n\n              <button\n                type=\"button\"\n                class={{panelAction}}\n                {{on \"click\" this.openIDE}}\n              >\n                Open in IDE\n              </button>\n\n              {{#if this.fileSystemBridge.isConnected}}\n                <button\n                  type=\"button\"\n                  class={{concat\n                    panelAction\n                    \" \"\n                    (if this.sourceLensState.editorEnabled active)\n                  }}\n                  {{on \"click\" this.sourceLensState.toggleEditor}}\n                >\n                  Inline Editor\n                </button>\n              {{/if}}\n\n            {{/if}}\n\n          </div>\n\n        </div>\n\n        {{#if this.fileSystemBridge.isConnected}}\n          {{#if this.sourceLensState.editorEnabled}}\n            <Editor\n              class={{sourceCode}}\n              @sourceLensState={{this.sourceLensState}}\n              @saveAction={{this.saveAction}}\n            />\n          {{/if}}\n        {{/if}}\n\n        {{#if this.sourceLensState.overlayEnabled}}\n          <div\n            class={{sourceLensOverlay}}\n            style={{htmlSafe this.overlayRectStyleString}}\n          ></div>\n        {{/if}}\n      {{/if}}\n    </div>\n  </template>\n}\n"],"names":["getEditorUrl","editor","absolutePath","lineNumber","column","projectRoot","toLowerCase","encodeURIComponent","console","warn","FileSystemBridge","g","prototype","tracked","i","void 0","constructor","sourceLensState","setup","import","meta","hot","send","on","isConnected","selectedFile","openFile","data","currentFileContent","file","saveFile","content","isElementWithSource","element","findSourceElement","x","y","excludeSelector","el","document","elementFromPoint","closest","clearSourceLensDataAttributes","elsWithLens","querySelectorAll","forEach","sourceFile","getAttribute","sourceLine","sourceColumn","removeAttribute","HTML_CLASS","sourceLensModifier","modifier","_element","_positional","named","fileSystemBridge","sourceLensClass","existingPadding","getComputedStyle","documentElement","getPropertyValue","style","setProperty","classList","add","abortController","AbortController","signal","observer","MutationObserver","observe","subtree","childList","moveHandler","e","isEnabled","overlayEnabled","clientX","clientY","filePath","columnNumber","boundingClientRect","Number","scrollDistance","getBoundingClientRect","clickElementHandler","absorbClicks","selectElement","lastKnownScrollPosition","scrollHandler","scrollElement","scrollTop","preventDefault","stopImmediatePropagation","stopPropagation","keyHandler","metaKey","ctrlKey","shiftKey","key","toggleEnabled","resetState","addEventListener","capture","abort","disconnect","remove","SourceLensState","localStorage","path","replace","toggleOverlay","toggleEditor","editorEnabled","shouldFocusEditor","selectedLineNumber","selectedColumn","languageMap","js","ts","gts","gjs","css","html","hbs","txt","MonacoEditor","Modifier","setupCalled","currentContent","saveAction","disableAction","init","then","mod","monaco","theme","create","padding","top","addEditorAction","id","label","keybindings","KeyMod","CtrlCmd","KeyCode","KeyS","run","ed","getValue","Shift","KeyL","setContent","filename","focus","extension","split","pop","language","currentModel","getModel","assert","setModelLanguage","setValue","setPosition","revealLine","modify","catch","error","Editor","setComponentTemplate","precompileTemplate","strictMode","scope","templateOnly","EmberLogo","InspectIcon","styleInject","ref","insertAt","head","getElementsByTagName","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","SourceLens","Component","createStore","args","hasHoveredFile","Boolean","hasSelectedFile","fullFilePath","line","locationString","overlayRectStyleString","rect","left","width","height","newContent","editorUrl","openIDE","window","location","href","sourceLens","panel","panelGroup","panelTitle","concat","panelAction","active","sourceCode","sourceLensOverlay","htmlSafe"],"mappings":"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","x_google_ignoreList":[6]}